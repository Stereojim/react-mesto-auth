{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n\n  addCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  editProfileImage(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-41\",\n  headers: {\n    /* authorization: \"f2ec7423-3d33-4d4c-8f08-a96b34cddef8\", */\n    authorization: \"b2724072-c1fe-4122-878d-e22552110f33\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_headers","_baseUrl","getProfile","fetch","method","then","_checkResponse","getInitialCards","editProfile","name","about","body","JSON","stringify","addCard","link","deleteCard","id","addLike","deleteLike","editProfileImage","avatar","res","ok","json","Promise","reject","status","api","authorization"],"sources":["C:/Users/pc 2345/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._headers = headers;\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  getProfile() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfileImage(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-41\",\r\n  headers: {\r\n    /* authorization: \"f2ec7423-3d33-4d4c-8f08-a96b34cddef8\", */\r\n    authorization: \"b2724072-c1fe-4122-878d-e22552110f33\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}