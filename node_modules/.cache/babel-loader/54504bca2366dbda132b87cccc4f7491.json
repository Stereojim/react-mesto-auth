{"ast":null,"code":"import _classCallCheck from\"C:/Users/pc 2345/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/pc 2345/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"GET\",headers:this._headers}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"GET\",headers:this._headers}).then(this._checkResponse);}},{key:\"editProfile\",value:function editProfile(name,about){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._checkResponse);}},{key:\"addCard\",value:function addCard(name,link){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"PUT\",headers:this._headers}).then(this._checkResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(id,\"/likes\"),{method:\"DELETE\",headers:this._headers}).then(this._checkResponse);}},{key:\"editProfileImage\",value:function editProfileImage(avatar){return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status));}}]);return Api;}();export var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-41\",headers:{authorization:\"b2724072-c1fe-4122-878d-e22552110f33\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Api","baseUrl","headers","_headers","_baseUrl","fetch","method","then","_checkResponse","name","about","body","JSON","stringify","link","id","avatar","res","ok","json","Promise","reject","status","api","authorization"],"sources":["C:/Users/pc 2345/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._headers = headers;\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  getProfile() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfile(name, about) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  addLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  editProfileImage(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._checkResponse);\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-41\",\r\n  headers: {\r\n    authorization: \"b2724072-c1fe-4122-878d-e22552110f33\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}