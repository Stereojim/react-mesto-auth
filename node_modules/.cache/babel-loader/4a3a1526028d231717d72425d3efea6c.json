{"ast":null,"code":"import{useContext}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(_ref){var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;//подписались на контент\nvar currentUser=useContext(CurrentUserContext);// проверили, являемся ли хозяином карточки\nvar isOwn=card.owner._id===currentUser._id;//создали класс для видимости иконки корзины и функцию нажатия\nvar cardDeleteButtonClassName=\"card__remove-button \".concat(isOwn?\"card__remove-button_visible\":\"\");// проверили свои лайки на карточке\nvar isLiked=card.likes.some(function(i){return i._id===currentUser._id;});//создали класс для видимости иконки лайка и функцию нажатия\nvar cardLikeButtonClassName=\"card__like-button \".concat(isLiked?\"card__like-button_active\":\"\");//управление событиями\nvar handleCardClick=function handleCardClick(){onCardClick(card);};var handleLikeClick=function handleLikeClick(){onCardLike(card);};var handleCardDelete=function handleCardDelete(){onCardDelete(card);};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card__image\",src:card.link,alt:card.name,onClick:handleCardClick}),/*#__PURE__*/_jsx(\"h2\",{className:\"card__place-name\",children:card.name}),/*#__PURE__*/_jsx(\"button\",{className:cardLikeButtonClassName,type:\"button\",\"aria-label\":\"\\u043F\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u043B\\u0430\\u0439\\u043A\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"span\",{className:\"card__like-count\",children:card.likes.length}),/*#__PURE__*/_jsx(\"button\",{className:cardDeleteButtonClassName,type:\"button\",\"aria-label\":\"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443\",onClick:handleCardDelete})]});}","map":{"version":3,"names":["useContext","CurrentUserContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","handleCardClick","handleLikeClick","handleCardDelete","link","name","length"],"sources":["C:/Users/pc 2345/mesto-react/src/components/Card.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  //подписались на контент\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  // проверили, являемся ли хозяином карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  //создали класс для видимости иконки корзины и функцию нажатия\r\n  const cardDeleteButtonClassName = `card__remove-button ${\r\n    isOwn ? \"card__remove-button_visible\" : \"\"\r\n  }`;\r\n\r\n  // проверили свои лайки на карточке\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  //создали класс для видимости иконки лайка и функцию нажатия\r\n  const cardLikeButtonClassName = `card__like-button ${\r\n    isLiked ? \"card__like-button_active\" : \"\"\r\n  }`;\r\n\r\n  //управление событиями\r\n  const handleCardClick = () => {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleCardDelete = () => {\r\n    onCardDelete(card);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <img\r\n        className=\"card__image\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleCardClick}\r\n      />\r\n      <h2 className=\"card__place-name\">{card.name}</h2>\r\n      <button\r\n        className={cardLikeButtonClassName}\r\n        type=\"button\"\r\n        aria-label=\"поставить лайк\"\r\n        onClick={handleLikeClick}\r\n      ></button>\r\n      <span className=\"card__like-count\">{card.likes.length}</span>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        aria-label=\"удалить карточку\"\r\n        onClick={handleCardDelete}\r\n      ></button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,cAAe,SAASC,KAAT,MAA+D,IAA/CC,KAA+C,MAA/CA,IAA+C,CAAzCC,WAAyC,MAAzCA,WAAyC,CAA5BC,UAA4B,MAA5BA,UAA4B,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC5E;AACA,GAAMC,YAAW,CAAGP,UAAU,CAACC,kBAAD,CAA9B,CAEA;AACA,GAAMO,MAAK,CAAGL,IAAI,CAACM,KAAL,CAAWC,GAAX,GAAmBH,WAAW,CAACG,GAA7C,CAEA;AACA,GAAMC,0BAAyB,+BAC7BH,KAAK,CAAG,6BAAH,CAAmC,EADX,CAA/B,CAIA;AACA,GAAMI,QAAO,CAAGT,IAAI,CAACU,KAAL,CAAWC,IAAX,CAAgB,SAACC,CAAD,QAAOA,EAAC,CAACL,GAAF,GAAUH,WAAW,CAACG,GAA7B,EAAhB,CAAhB,CAEA;AACA,GAAMM,wBAAuB,6BAC3BJ,OAAO,CAAG,0BAAH,CAAgC,EADZ,CAA7B,CAIA;AACA,GAAMK,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5Bb,WAAW,CAACD,IAAD,CAAX,CACD,CAFD,CAIA,GAAMe,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5Bb,UAAU,CAACF,IAAD,CAAV,CACD,CAFD,CAIA,GAAMgB,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7Bb,YAAY,CAACH,IAAD,CAAZ,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,YACE,SAAS,CAAC,aADZ,CAEE,GAAG,CAAEA,IAAI,CAACiB,IAFZ,CAGE,GAAG,CAAEjB,IAAI,CAACkB,IAHZ,CAIE,OAAO,CAAEJ,eAJX,EADF,cAOE,WAAI,SAAS,CAAC,kBAAd,UAAkCd,IAAI,CAACkB,IAAvC,EAPF,cAQE,eACE,SAAS,CAAEL,uBADb,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,iFAHb,CAIE,OAAO,CAAEE,eAJX,EARF,cAcE,aAAM,SAAS,CAAC,kBAAhB,UAAoCf,IAAI,CAACU,KAAL,CAAWS,MAA/C,EAdF,cAeE,eACE,SAAS,CAAEX,yBADb,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,6FAHb,CAIE,OAAO,CAAEQ,gBAJX,EAfF,GADF,CAwBD"},"metadata":{},"sourceType":"module"}